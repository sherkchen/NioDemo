# NioDemo
java NIO学习


网络IO的过程：

1. 等待数据从网络中到达网卡，当所有分组到达后它将会被复制到内核的缓冲区。这个操作系统内核层面的。

2. 服务器通过read系统调用将内核缓冲区数据，读入到自己的进程缓冲区中。

3. 读入完成后服务器处理相关业务逻辑。


IO类型
### 同步阻塞IO(Blocking IO)

同步阻塞IO是指在上述IO的两个阶段即 数据copy到内核缓冲区和数据拷贝到用户缓冲区都会发生阻塞。
同步指用户空间主动与内核发起到IO方式， 内核空间是被动接受方。

### 同步非阻塞IO（Non-blocking IO）

非阻塞IO，指的是用户空间的程序不需要等待内核IO操作彻底完成（第一步内核准备数据到内核缓冲区）。但当内核缓冲区
数据准备完成后，内核缓冲区到用户缓冲区的数据读取过程仍然是阻塞的。

### IO多路复用
经典的Reactor反应器设计模式，java的new IO是基于此。复用线程（select 选择器）监听数据到内核缓冲区的数据就绪状态，解放用户线程此处不用阻塞， 但数据从内核缓冲区到用户缓冲区阶段仍然阻塞。

### 异步IO（Asynchronous IO）
异步IO，指的是用户空间与内核空间的调用方式反过来。用户空间的线程变成被动接受者，而内核空间成了主动调用者。这有点类似于Java中比较典型的回调模式，用户空间的线程向内核空间注册了各种IO事件的回调函数，由内核去主动调用。
即在数据从内核缓冲区写入用户缓冲区时用户线程不必阻塞等待完成，而是有内核回调通知用户线程数据已经复制完成。


